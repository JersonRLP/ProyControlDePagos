<!DOCTYPE html>
<html lang="es" xmlns:th="https://www.thymeleaf.org">
<head th:replace="home  :: head">
	<meta charset="UTF-8">
	<title>Nuevo Jefe</title>
</head>
<body>
	
	<!-- Main container -->
	<main class="full-box main-container">
		<!-- Nav lateral -->
    <section class="full-box nav-lateral">
		<div class="full-box nav-lateral-bg show-nav-lateral"></div>
			<div class="full-box nav-lateral-content" th:replace="home :: nav-lateral">
		</div>
    </section>

		<!-- Page content -->
		<section class="full-box page-content">
			<nav class="full-box navbar-info">
				<a href="#" class="float-left show-nav-lateral">
					<i class="fas fa-exchange-alt"></i>
				</a>
				<a href="user-update.html">
					<i class="fas fa-user-cog"></i>
				</a>
				<a href="#" class="btn-exit-system">
					<i class="fas fa-power-off"></i>
				</a>
			</nav>

			<!-- Page header -->
			<div class="full-box page-header">
				<h3 class="text-left">
					<i class="fas fa-plus fa-fw"></i> &nbsp; AGREGAR JEFE DE PRESTAMISTA
				</h3>
			</div>

			<div class="container-fluid">
				<ul class="full-box list-unstyled page-nav-tabs">
					<li>
						<a class="active" href="/nuevoJefe"><i class="fas fa-plus fa-fw"></i> &nbsp; AGREGAR JEFE</a>
					</li>
					<li>
						<a href="/listaJefe"><i class="fas fa-clipboard-list fa-fw"></i> &nbsp; LISTA DE JEFES</a>
					</li>
					<li>
						<a href="/buscarJefe"><i class="fas fa-search fa-fw"></i> &nbsp; BUSCAR JEFE</a>
					</li>
				</ul>	
			</div>
			
			<!-- Content here-->
			<div class="container-fluid">
				<form th:action="@{/registrarJefe}" th:object="${jefe}" method="post"  class="form-neon" autocomplete="off">
				<div align="center" th:if=${param.registroExitoso}>
						<div class="alert alert-info">Jefe Registrado Exitosamente</div>
				</div>
					<div align="center" th:if="${mensaje != null}" class="alert alert-danger">
						<p th:text="${mensaje}"></p>
					 </div>
					<fieldset>
						<legend><i class="fas fa-user"></i> &nbsp; Información básica</legend>
						<div class="container-fluid">
							<div class="row">
								<div class="col-12 col-md-6">
									<div class="form-group">
										<label for="cliente_dni" class="bmd-label-floating">DNI</label>
										<input th:field="*{dni}" type="text" pattern="\d{8}" class="form-control" name="dni" id="dni" th:value="${jefe.dni}" maxlength="8" title="Ingresa 8 dígitos numéricos" required>
										<p th:if="${#fields.hasErrors('dni')}" th:errors="*{dni}" class="error-message"></p>
									</div>
								</div>
								<div class="col-12 col-md-6">
									<div class="form-group">
										<label for="cliente_nombre" class="bmd-label-floating">Nombres</label>
										<input th:field="*{nombres}" type="text" pattern="[a-zA-ZáéíóúÁÉÍÓÚñÑ ]{1,40}" class="form-control" name="nombres" id="nombres" th:value="${jefe.nombres}" maxlength="50" title="Ingresa nombres correctos" required>
									</div>
								</div>
								<div class="col-12 col-md-6">
									<div class="form-group">
										<label for="cliente_apellido" class="bmd-label-floating">Apellido Paterno</label>
										<input th:field="*{apePaterno}" type="text" pattern="[a-zA-ZáéíóúÁÉÍÓÚñÑ ]{1,50}" class="form-control" name="apePaterno" id="apePaterno" th:value="${jefe.apePaterno}" maxlength="50" title="Ingresa un apellido correcto" required>
									</div>
								</div>
								<div class="col-12 col-md-6">
									<div class="form-group">
										<label for="cliente_apellido" class="bmd-label-floating">Apellido Materno</label>
										<input th:field="*{apeMaterno}" type="text" pattern="[a-zA-ZáéíóúÁÉÍÓÚñÑ ]{1,50}" class="form-control" name="apeMaterno" id="apeMaterno" th:value="${jefe.apeMaterno}" title="Ingresa un apellido correcto" maxlength="50">
									</div>
								</div>
								<div class="col-12 col-md-6">
									<div class="form-group">
										<label for="cliente_apellido" class="bmd-label-floating">Email</label>
										<input th:field="*{email}" type="text" pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}" class="form-control" name="email" id="email" th:value="${jefe.email}" maxlength="100" title="Ingresa un email correcto" required>
										<p th:if="${#fields.hasErrors('email')}" th:errors="*{email}" class="error-message"></p>
									</div>
								</div>
								<div class="col-12 col-md-6">
									<div class="form-group">
										<label for="password" class="bmd-label-floating">Contraseña</label>
										<input th:field="*{password}" type="password"  class="form-control" name="password" id="password" th:value="${jefe.password}" maxlength="40" required>
									</div>
								</div>
								<div class="col-12 col-md-6">
									<div class="form-group">
										<label for="cliente_telefono" class="bmd-label-floating">Teléfono</label>
										<input th:field="*{telefono}" type="text" pattern="[0-9()+]{1,20}" class="form-control" name="telefono" id="telefono" th:value="${jefe.telefono}" maxlength="20" required>
										<p th:if="${#fields.hasErrors('telefono')}" th:errors="*{telefono}" class="error-message"></p>
									</div>
								</div>
								<div class="col-12 col-md-6">
								        <div class="form-group">
								            <label for="zona" class="bmd-label-floating">Zona</label>
								            <select id="zona" class="form-control" name="idZona">
								                <option disabled value="">Selecciona una zona</option>
								              
								                <option th:each="zona : ${listzonas}" th:value="${zona.idZona}" th:text="${zona.descripcion}"></option>
								            </select>
								        </div>
								</div>
								<div class="col-12 col-md-4" style="display: none;">
									<div class="form-group">
										<label for="estado" class="bmd-label-floating">Estado</label>
										<input type="number"  class="form-control" name="estado" id="estado" value="0" readonly>
									</div>
								</div>
								<div class="col-12 col-md-4" style="display: none;">
								    <div class="form-group">
								        <label for="idUsuarioLider" class="bmd-label-floating">ID Usuario Líder</label>
								        <input type="number" class="form-control" name="idUsuarioLider" id="idUsuarioLider" th:value="${idUsuario}" readonly>
								    </div>
								</div>
								<div class="col-12 col-md-4" style="display: none;">
									<div class="form-group">
										<label for="estado" class="bmd-label-floating">idRol</label>
										<input type="number"  class="form-control" name="idRol" id="idRol" value="4" readonly>
									</div>
								</div>

							</div>
						</div>
					</fieldset>
					<br><br><br>
					<p class="text-center" style="margin-top: 40px;">
						<button type="reset" class="btn btn-raised btn-secondary btn-sm"><i class="fas fa-paint-roller"></i> &nbsp; LIMPIAR</button>
						&nbsp; &nbsp;
						<button type="submit" class="btn btn-raised btn-info btn-sm"><i class="far fa-save"></i> &nbsp; GUARDAR</button>
					</p>
				</form>
			</div>	

		</section>
	</main>
	
    <!-- Incluir el fragmento de JavaScript -->
    <div th:include="home :: javascript-include"></div>
    
    <script th:inline="javascript">
    var errorField = /*[[${errorField}]]*/ 'dni';
    var inputField = document.getElementById('input' + errorField.charAt(0).toUpperCase() + errorField.slice(1));
    
    inputField.focus();
    
    inputField.value = '';
</script>
</body>
</html>